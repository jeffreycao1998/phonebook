{"version":3,"sources":["services/notes.js","Components/Notification/Notification.js","Components/Filter/Filter.js","Components/Form/Form.js","Components/RenderList/RenderList.js","App.js","index.js"],"names":["baseUrl","newObject","axios","post","id","put","delete","Notification","message","className","Filter","change","onChange","Form","submit","changeName","changeNumber","onSubmit","type","RenderList","persons","remove","map","person","key","name","number","onClick","App","useState","setPersons","filteredPersons","setFilteredPersons","newName","setNewName","newNumber","setNewNumber","setMessage","url","loadDetails","get","then","res","data","useEffect","inPhonebook","addPerson","services","setTimeout","updatePerson","forEach","window","confirm","style","borderColor","event","text","target","value","toLowerCase","filter","includes","preventDefault","parentNode","innerHTML","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a74207b0.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`);\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\nimport './Notification.css'\r\n\r\nconst Notification = ({message}) => {\r\n  return(\r\n    <div className=\"message\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification;","import React from 'react'\r\n\r\nconst Filter = ({change}) => {\r\n    return(\r\n        <div>\r\n            filter shown with<input onChange={change}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\nconst Form = ({ submit, changeName, changeNumber }) => {\r\n\r\n    return(\r\n        <form onSubmit={submit}>\r\n            <div>\r\n            name: <input onChange={changeName}/>\r\n            </div>\r\n            <div>\r\n            number: <input onChange={changeNumber}/>\r\n            </div>\r\n            <div>\r\n            <button type=\"submit\">add</button>\r\n            </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default Form;","import React from 'react'\r\n\r\nconst RenderList = ({persons, remove}) => {\r\n    return(\r\n    <>\r\n        {\r\n            persons.map( person => \r\n                <p key={person.name}>\r\n                    {person.name} || {person.number} || <button onClick={remove}>delete</button>\r\n                </p>)\r\n        }\r\n    </>\r\n)\r\n}\r\n\r\nexport default RenderList;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios'\nimport services from \"./services/notes\"\n\nimport Notification from './Components/Notification/Notification'\nimport Filter from './Components/Filter/Filter'\nimport Form from './Components/Form/Form'\nimport RenderList from './Components/RenderList/RenderList'\n\nconst App = () => {\n\n  const [ persons, setPersons ] = useState([])\n  const [ filteredPersons, setFilteredPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  \n  const url = \"/api/persons\"\n\n  const loadDetails = () => {\n    axios\n      .get(url)\n      .then(res => {\n        setPersons(res.data)\n        setFilteredPersons(res.data)\n      })\n  }\n\n  useEffect(() => {\n    loadDetails(url)\n  },[])\n\n  const filterHandler = (event) => {\n    let text = event.target.value.toLowerCase();\n    setFilteredPersons(persons.filter( person => {\n      return person.name.toLowerCase().includes(text);\n    }))\n  }\n\n  let inPhonebook;\n  const isInPhonebook = () => {\n    persons.forEach( person => {\n      if (person.name === newName) {\n        inPhonebook = true\n      }\n    })\n  }\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    isInPhonebook()\n    if (newName && !inPhonebook) {\n      addPerson();\n      return\n    }\n    updatePerson(newName);\n  }\n\n  const addPerson = () => {\n    let newObject = {\n      'name': newName,\n      'number': newNumber\n    }\n\n    services\n      .create(newObject)\n    \n    setMessage(`Added ${newName}`)\n    setTimeout( () => {\n      setMessage(null)\n    }, 5000)\n\n    loadDetails(url)\n  }\n\n  const removePerson = (event) => {\n    persons.forEach( person =>{\n      if (event.target.parentNode.innerHTML.includes(person.name && person.number)) {\n          if (window.confirm(`Delete ${person.name}`)) {\n            services\n              .remove(person.id)\n              .catch( error => {\n                setMessage(`Information of ${person.name} has already been removed from server`)\n              })\n\n            setMessage(`Removed ${person.name}`)\n            setTimeout( () => {\n              setMessage(null)\n            }, 5000)\n          }\n      }\n    })\n  }\n\n  const updatePerson = () => {\n    persons.forEach( person =>{\n      if ( newName === person.name ) {\n          if (window.confirm(`${person.name} is already added to phonebook, replace the older number with a new one?`)) {\n            let newObject = {\n              name: person.name,\n              number: newNumber,\n              id: person.id\n            }\n            services\n              .update(person.id, newObject)\n\n            setMessage(`Updated ${person.name}`)\n            setTimeout( () => {\n              setMessage(null)\n            }, 5000)\n          }\n      }\n    })\n  }\n\n  const nameInputHandler = (event) => {\n    setNewName(event.target.value)\n  }\n  const numberInputHandler = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification style={{borderColor: ''}} message={message}/>\n      <Filter change={filterHandler}/>\n\n      <h3>Add a new</h3>\n      <Form \n        submit={submitHandler} \n        changeName={nameInputHandler}\n        changeNumber={numberInputHandler} />\n\n      <h3>Numbers</h3>\n      <RenderList \n        persons={filteredPersons}\n        remove={removePerson}/>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}